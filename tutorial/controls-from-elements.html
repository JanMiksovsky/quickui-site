<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Inconsolata" />

<link rel="stylesheet" type="text/css" href="/release/quickui.css" />
<link rel="stylesheet" type="text/css" href="/release/quickui.catalog.css" />
<link rel="stylesheet" type="text/css" href="/controls/controls.css" />
<link rel="stylesheet" type="text/css" href="/site.css" />

<script type="text/javascript" src="/lib/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/thirdParty/ace/ace.js"></script>
<script type="text/javascript" src="/thirdParty/ace/mode-javascript.js"></script>
<script type="text/javascript" src="/release/quickui.js"></script>
<script type="text/javascript" src="/release/quickui.catalog.js"></script>
<script type="text/javascript" src="/controls/controls.js"></script>

<title>Creating controls from existing HTML elements</title>

<script id="demo">
function demo() {

var $div = $( "<div></div>" );

$demo.append(
    ColorSwatchComboBox.create( "Red" ),
    $div
);

$div.control( ColorSwatchComboBox );
    
}
</script>

<body
    data-create-controls="true"
    data-control="TutorialPage"
    data-nextPage="css-classes.html"
>

<p class="highlight">
<b>Core idea:</b> Depending on your needs, you can create a control outside the
DOM and then add it to the DOM as a separate step, or you can create a control 
from an existing DOM element. The latter strategy for creating controls allows
you to create pages with traditional HTML design and development tools, then 
convert specific elements into control instances.
</p>
<p>
Until this point, the examples have created a control by invoking a control
class’ create() function, then appending the resulting element tree to the DOM. 
Another approach to creating controls entails applying the control() plugin to
an existing DOM element. We’ve already seen how the control() plugin can be
invoked without parameters to cast a jQuery instance to an instance of a more
specific control class. By supplying a control class to control(), the same
plugin can also be used to convert an existing DOM element into an instance of 
the indicated control class.
</p>
<p>
This process will modify the existing element. Any existing contents within the
element will be temporarily removed from the DOM. The control class will then
populate the element with any sub-elements the control requires. Finally, the
element’s previous contents will be passed to the new class’ content() property. 
In this way, converting an element into a control can subsume the element’s 
previous contents.
</p>
<p>
Note: The resulting control can generally only work properly if the control()
plugin is applied to a DOM element of the type the control class expects. Most 
control classes expect their top element to be a div.
</p>

<p>
<b>The demo code</b> creates two combo box controls. The first combo box is
created by the same create() call we’ve seen earlier. The second combo box is 
created in two steps: 1) a plain div is added to the DOM, 2) the control()
plugin converts that plain div into an instance of the ColorSwatchComboBox 
class.
</p>
<p>
In this example, the second step happens immediately after the first, but they 
could just as easily be separated in time. You could create the div at
design-time in HTML, and turn it into a control through code at run-time.
</p>

<p>
<b>Your goal:</b> As noted above, any content in the pre-existing div used to
create the second combo box will be automatically passed to the class’ content()
property. In the case of the ColorSwatchComboBox class, the content() is the
name of the color being set. Take advantage of this to set the default content
on the second combo box by putting a CSS color value between the opening and
closing div tag, e.g.: <span data-control="Tag">div</span>Orange<span data-control="Tag">/div</span>.
</p>

</body>

</html>
