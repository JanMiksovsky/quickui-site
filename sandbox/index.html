<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Inconsolata" />

<link rel="stylesheet" type="text/css" href="/release/quickui.css" />
<link rel="stylesheet" type="text/css" href="/release/quickui.catalog.css" />
<link rel="stylesheet" type="text/css" href="/controls/controls.css" />
<link rel="stylesheet" type="text/css" href="/site.css" />

<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="/thirdParty/ace/ace.js"></script>
<script type="text/javascript" src="/thirdParty/ace/mode-javascript.js"></script>
<script type="text/javascript" src="/release/quickui.js"></script>
<script type="text/javascript" src="/release/quickui.catalog.js"></script>
<script type="text/javascript" src="/controls/controls.js"></script>

<title>QuickUI Sandbox</title>

<style>
.CodeEditor {
    margin: 2em;
}
</style>

<script>
$( function() {
    var $editor = $( "#codeEditor" ).control(); 
    var defaultCode = getCookie( "code" ) || "$demo.append(\n\n);";
    $editor
        .code( defaultCode )
        .on( "run", function() {
            code = $editor.code();
            setCookie( "code", code, 365 );
        });
});

function getCookie( key ) {
    var cookies = document.cookie.split( ";" );
    for ( var i = 0; i < cookies.length; i++ )
    {
        var cookie = cookies[ i ];
        var parts = cookie.split( "=" );
        var cookieKey = parts[0].replace( /^\s+|\s+$/g, "" );
        var cookieValue = parts[1];
        if ( cookieKey === key ) {
            return unescape( cookieValue );
        }
    }
}

function setCookie( name, value, days ) {
    var cookieValue = escape( value );
    if ( days ) {
        var date = new Date();
        date.setDate( date.getDate() + days );
        cookieValue += "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + cookieValue;
}

</script>

</head>

<body data-create-controls="true" data-control="Page" data-fill="true">
    <div id="codeEditor" data-control="CodeEditor"/>
</body>

</html>
