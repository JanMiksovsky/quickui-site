(function(){var t,e,r,n,o,i={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},u=[].slice;jQuery.fn.control=function(e,r){var n,o,i;return void 0===e?(n=new t(this).cast(jQuery),n instanceof t?n:null):jQuery.isFunction(e)?(o=e,i=r,o.createAt(this,i)):new t(this).cast().properties(e)},t=function(t){function i(){var t,e;if(t=arguments.length>=1?u.call(arguments,0):[],this===window)throw"Control constructor must be invoked with 'new'.";e=jQuery.apply(null,t),e.length>0&&jQuery.merge(this,e)}return s(i,t),i.create=function(t){return this.createAt(null,t)},i.createAt=function(t,e){var i,s,u,a,l,c,h,p,f;for(u="<"+this.prototype.tag+"/>",s=void 0,c=void 0,null===t?(s=new this(u),c=[]):(s=new this(t),c=function(){var t,e,r;for(r=[],t=0,e=s.length;e>t;t++)a=s[t],r.push(o(a));return r}(),l=s[0].nodeName.toLowerCase(),l!==this.prototype.tag.toLowerCase()&&"body"!==l&&(s=n(s,new this(u)))),void 0===e||$.isPlainObject(e)||(e={content:e}),this.initialize(),s.controlClass(this).addClass(this.prototype.classes).render().propertyVector("content",c).properties(e),f=s.segments(),h=0,p=f.length;p>h;h++)i=f[h],r(this,i);return s},i.prototype.classes="Control",i.prototype.className="Control",i.prototype.controlClass=function(t){return t?this.data(e,t):this.data(e)},i.prototype.inherited=null,i.prototype.initialize=function(){},i.initialize=function(){var t,e;return this.prototype.hasOwnProperty("className")||(this.prototype.className=null!=(e=this.name)?e:/function\s+([^\( ]*)/.exec(""+this)[1]),this.prototype.hasOwnProperty("classes")?void 0:(t=this.superclass(),t.initialize(),this.prototype.classes=this.prototype.className+" "+t.prototype.classes)},i.prototype.render=function(){var t,e,r;return t=this.constructor,t!==i&&(r=t.superclass(),e=new r(this).render(),t.prototype.hasOwnProperty("inherited")&&e.json(t.prototype.inherited,this)),this},i.prototype.pushStack=function(t){var e;return e=jQuery.merge(new this.constructor,t),e.prevObject=this,e.context=this.context,e},i.prototype.quickui="0.9.4",i.sub=function(t){var e,r,n;return r=this,e=function(t){function e(){return n=e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(r),jQuery.extend(!0,e,r),null!=t&&e.prototype.extend(t),e.__super__=r.prototype,e.fn=e.prototype,e},i.superclass=function(){return this.__super__.constructor},i.prototype.tag="div",i.prototype.transmute=function(t,e,r,n){var o,s,u,a,l,c;for(s=i.getClass(t),a=r?this.prop("class"):null,l=0,c=this.length;c>l;l++)u=this[l],w(u);return e||this.empty(),this.removeClass(),this.removeData(),n||this.off(),o=s.createAt(this),a&&o.removeClass("Control").addClass(a).addClass("Control"),o},i}(jQuery),e="_controlClass",r=function(t,e){var n;return n=t.superclass(),n!==jQuery&&r(n,e),t.prototype.hasOwnProperty("initialize")?t.prototype.initialize.call(e):void 0},n=function(t,e){var r,n,o,i,s,u,a;for(s=function(){var e,r,o;for(o=[],e=0,r=t.length;r>e;e++)n=t[e],o.push($(n).prop("id"));return o}(),r=e.replaceAll(t),o=u=0,a=r.length;a>u;o=++u)n=r[o],i=s[o],i&&i.length>0&&$(n).prop("id",i);return r},o=function(e){var r,n,o,i;if(r=new t(e).content(),"string"==typeof r&&jQuery.trim(r).length>0)return r;for(o=0,i=r.length;i>o;o++)if(n=r[o],8!==n.nodeType&&("string"!=typeof n||jQuery.trim(n).length>0))return r;return void 0},"undefined"!=typeof window&&null!==window&&(window.Control=t);var a,l;a=navigator.userAgent.toLowerCase(),l=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],t.browser={},null!=l[1]&&(t.browser[l[1]]=!0),null!=l[2]&&(t.browser.version=l[2]),t.browser.chrome?t.browser.webkit=!0:t.browser.webkit&&(t.browser.safari=!0);var c;t.prototype.extend({content:function(t){var e,r,n,o,i,s,u,a;if(void 0===t)return e=this.nth(0),c(e[0])?e.val():(o=function(){var t,r,o,i;for(o=e.contents(),i=[],t=0,r=o.length;r>t;t++)n=o[t],i.push(3===n.nodeType?n.nodeValue:n);return i}(),1===o.length&&"string"==typeof o[0]?o[0]:new this.constructor(o));for(r=arguments.length>1?arguments:t instanceof jQuery?t.get():jQuery.isArray(t)?t:[t],u=this.segments(),i=0,s=u.length;s>i;i++)e=u[i],c(e[0])?e.val(t):(e.children().detach(),(a=e.empty()).append.apply(a,r));return this}}),c=function(t){var e;return e=["input","select","textarea"],jQuery.inArray(t.nodeName.toLowerCase(),e)>=0};var h,p,f,d,y,v,g,w,m,j;t.prototype.inDocument=function(t){var e,r,n,o,i,s,u;if(void 0===t){if(0===this.length)return!1;for(o=0,s=this.length;s>o;o++)if(e=this[o],!v(e))return!1;return!0}for(n=[],r=i=0,u=this.length;u>i;r=++i)e=this[r],v(e)?t.call(new this.constructor(e)):n.push({element:e,callback:t});return n.length>0&&(f.unshift.apply(f,n),d||m()),this},h=function(){var e,r,n,o,i,s,u,a;for(r=[],i=0;f.length>i;)o=f[i].element,v(o)?(r.push(f[i]),f.splice(i,1)):i++;for(0===f.length&&j(),a=[],s=0,u=r.length;u>s;s++)e=r[s],n=new t(e.element).control(),a.push(e.callback.call(n));return a},t._elementInserted=h,p=null,f=[],d=!1,y=!1,v=function(t){return("undefined"!=typeof document&&null!==document?document.body:void 0)===t||jQuery.contains(document.body,t)},g=function(){return!t.browser.msie||parseInt(t.browser.version)>=9},w=function(t){var e,r;for(e=0,r=[];f.length>e;)f[e].element===t?r.push(f.splice(e,1)):r.push(e++);return r},m=function(){return g()?document.body?(jQuery("body").on("DOMNodeInserted",h),d=!0):y?void 0:(jQuery("body").ready(function(){return h(),f.length>0&&m(),y=!1}),y=!0):p=window.setInterval(function(){return h()},10)},j=function(){return g()?(jQuery("body").off("DOMNodeInserted",t.elementInserted),d=!1):(window.clearInterval(p),p=null)};var _,b,C,Q;t.prototype.json=function(t,e){var r,n,o,i,s,u;for(null==e&&(e=this),u=this.segments(),n=i=0,s=u.length;s>i;n=++i)r=u[n],o=C(t,e.nth(n)),r.properties(o);return this},_=function(t,e){var r,n;n={};for(r in t)e[r]||(n[r]=t[r]);return n},b=function(e,r){var n,o,i,s,u;if(null!=e.html)s={html:!0};else{if(null==e.control)return e;s={control:!0}}return s.ref=!0,u=_(e,s),i=C(u,r),n=void 0,null!=e.html?(o=e.html,/^\w+$/.test(o)&&(o="<"+o+">"),n=new t(o).properties(i)):n=t.getClass(e.control).create(i),e.ref&&r.referencedElement(e.ref,n),n},C=function(t,e){var r,n;jQuery.isPlainObject(t)||(t={content:t}),n={};for(r in t)n[r]=Q(t[r],e);return n},Q=function(t,e){var r,n,o,i,s;if(jQuery.isArray(t)){for(s=[],o=0,i=t.length;i>o;o++)r=t[o],s.push((n=Q(r,e),n instanceof jQuery?n[0]:n));return s}return jQuery.isPlainObject(t)?b(t,e):t};var x;t.prototype.checkForSizeChange=function(){return x(this)&&this.trigger("sizeChanged"),this},jQuery.event.special.layout={add:function(e){var r;return r=jQuery.event.special.layout,r._trackedElements=r._trackedElements.add(this),new t(this).inDocument(function(){var t,r;return r=e.handler,t=new jQuery.Event("layout"),r.call(this,t)})},handle:function(e){var r;return r=new t(this),r.inDocument()&&r.checkForSizeChange()?e.handleObj.handler.apply(this,arguments):void 0},setup:function(){var t;return t=jQuery.event.special.layout,t._trackingResizeEvent?void 0:($(window).resize(function(){return t._windowResized()}),t._trackingResizeEvent=!0)},teardown:function(){return jQuery.event.special.layout._trackedElements=jQuery.event.special.layout._trackedElements.not(this)},_trackedElements:$(),_windowResized:function(){return jQuery.event.special.layout._trackedElements.trigger("layout")}},x=function(t){var e,r,n;return e=null!=(n=t.data("_size"))?n:{},r={height:t.height(),width:t.width()},r.height===e.height&&r.width===e.width?!1:(t.data("_size",r),!0)},t.prototype.culture=function(t){var e,r;return r="_culture",e=void 0,void 0===t?(e=this.data(r),null!=e?e:window.Globalize?Globalize.culture():null):(e="string"==typeof t?Globalize.findClosestCulture(t):t,this.data(r,e))};var z,u=[].slice;jQuery.extend(t,{chain:function(){var t,e,r,n,o,i,s,a,l;for(e=arguments.length>=1?u.call(arguments,0):[],jQuery.isFunction(e[e.length-1])&&(s=e.pop()),r=[],n=[],o=a=0,l=e.length;l>a;o=++a)t=e[o],i=t.split("/"),r[o]=i.shift(),n[o]=i;return function(t){var e,i,u,a,l,c,h;for(l=this,u=r.length,o=c=0,h=r.length;h>c;o=++c){if(i=r[o],e=l[i],void 0===e)throw"Control class "+this.className+" tried to chain to an undefined getter/setter function "+r[o]+".";a=n[o],o===u-1&&void 0!==t&&(a=a.concat([t])),l=e.apply(l,a)}return void 0===t?l:(s&&s.call(this,t),this)}},iterator:function(t){return function(){var e,r,n,o,i;for(i=this.segments(),n=0,o=i.length;o>n;n++)if(e=i[n],r=t.apply(e,arguments),void 0!==r&&r!==e)return r;return this}},property:function(t,e,r){var n;return n="_property"+z++,function(o){var i,s,u,a,l,c,h,p;if(a=void 0,void 0===o)return a=this.data(n),void 0===a?e:a;for(l=(null!=t?t.length:void 0)>1,p=this.segments(),c=0,h=p.length;h>c;c++)s=p[c],l&&(u=s.data(n)),a=r?r.call(s,o):o,s.data(n,a),t&&(i=[a],l&&i.push(u),t.apply(s,i));return this}}}),jQuery.extend(t.property,{bool:function(e,r){return t.property(e,r,function(t){return"true"==t+""})},"class":function(e,r){return t.property(e,r,t.getClass)},date:function(e,r){return t.property(e,r,function(t){return t instanceof Date||null==t?t:new Date(Date.parse(t))})},integer:function(e,r){return t.property(e,r,parseInt)}}),z=0;var k,O,E,N,A,P;t.prototype.rehydrate=function(){var e,r,n,o,i,s;if(o=this.find("[data-control]").get(),o.length>0)for(n=i=s=o.length-1;0>=s?0>=i:i>=0;n=0>=s?++i:--i)A(o[n]);return r=function(){var t,r,n,o;for(n=this.segments(),o=[],t=0,r=n.length;r>t;t++)e=n[t],o.push(e.data("control")?A(e[0]):e);return o}.call(this),new t(r).cast()},A=function(e){var r,n,o,i,s;return r=$(e),n=r.data("control"),r.removeAttr("data-control"),o=t.getClass(n),i=jQuery.extend({},E(e),O(e)),s=P(o,i),o.createAt(e,s)},E=function(t){var e,r,n,o,i,s,u,a,l,c;for(i={},u=/^data-(.+)/,c=t.attributes,a=0,l=c.length;l>a;a++)r=c[a],o=u.exec(r.name),o&&(s=o[1],"control"!==s&&(i[s]=r.value));e=jQuery(t);for(n in i)e.removeAttr("data-"+n);return i},O=function(e){var r,n,o,i,s,u,a,l;for(i={},n=new t(e).children().filter("[data-property]"),l=n.segments(),u=0,a=l.length;a>u;u++)r=l[u],s=r.attr("data-property"),"control"!==s&&(o=r.content(),i[s]=o,o instanceof jQuery&&o.detach());return n.remove(),i},P=function(t,e){var r,n,o,i;if(jQuery.isEmptyObject(e))return e;r=k(t),i={};for(o in e)n=r[o.toLowerCase()],n&&(i[n]=e[o]);return i},N={},k=function(t){var e,r,n,o;if(t.initialize(),e=t.prototype.className,!N[e]){n={};for(o in t.prototype)r=o.toLowerCase(),n[r]=o;N[e]=n}return N[e]},jQuery(function(){var e;return e=new t("body"),e.data("create-controls")?e.rehydrate():void 0}),t.prototype.extend({applyClass:function(t,e){return void 0===e?this.hasClass(t):this.toggleClass(t,"true"==e+"")},"class":function(t){return void 0===t?this.attr("class"):this.toggleClass(t,!0)},generic:function(t){return this.applyClass("generic",t)},style:function(t){return this.attr("style",t)},visibility:function(t){return void 0===t?this.is(":visible"):this.toggle("true"==t+"")}});var D,i={}.hasOwnProperty;t.prototype._super=function(){var t,e,r,n,o;if(t=arguments.callee.caller,!t)throw"Tried to invoke _super(), but couldn't find the calling function.";if(o=t._superFn,!o&&(n=D(t,this.constructor),n&&(r=n.classFn,e=n.fnName,o=r.__super__[e],t._superFn=o),!o))throw"Tried to invoke _super(), but couldn't find a function of the same name in the base class.";return o.apply(this,arguments)},D=function(t,e){var r,n,o;o=e.prototype;for(r in o)if(i.call(o,r)&&(n=o[r],n===t))return{classFn:e,fnName:r};return null!=e.__super__?D(t,e.__super__.constructor):null};var F;jQuery.extend(t,{getClass:function(e){var r;if(null===e||""===e)return null;if(jQuery.isPlainObject(e))return t.sub(e);if(r=jQuery.isFunction(e)?e:window[e],!r)throw"Unable to find a class called "+e+".";return r},isControl:function(e){return void 0!==t(e).control()}}),jQuery.expr[":"].control=function(e){var r;return r=new t(e).controlClass(),r?r===t||r.prototype["instanceof"](t):!1},t.prototype.extend({cast:function(t){var e,r,n,o,i,s,u;for(t=t||this.constructor,n=void 0,s=this.segments(),o=0,i=s.length;i>o;o++)e=s[o],r=null!=(u=e.controlClass())?u:t,(void 0===n||n.prototype instanceof r)&&(n=r);return null==n&&(n=t),new n(this)},eachControl:function(e){var r,n,o,i,s,u;for(o=s=0,u=this.length;u>s&&(n=this[o],r=new t(n).cast(),i=e.call(r,o,r),i!==!1);o=++s);return this},id:function(t){return this.attr("id",t)},nth:function(t){return new this.constructor(this[t])},properties:function(t){var e,r;for(e in t){if(void 0===this[e])throw"Tried to set undefined property "+this.className+"."+e+"().";r=t[e],this[e].call(this,r)}return this},propertyVector:function(t,e){var r,n,o,i,s,u,a,l,c,h,p;if(i=this[t],void 0===e){for(c=this.segments(),p=[],s=0,a=c.length;a>s;s++)r=c[s],p.push(i.call(r));return p}for(o=this.length,h=this.segments(),n=u=0,l=h.length;l>u&&(r=h[n],!(n>=o));n=++u)void 0!==e[n]&&i.call(r,e[n]);return this},referencedElement:function(e,r){var n,o,i,s,u,a;if(void 0===r)return r=function(){var t,r,o,i;for(o=this.segments(),i=[],t=0,r=o.length;r>t;t++)n=o[t],void 0!==n.data(e)&&i.push(n.data(e));return i}.call(this),o=new t(r).cast(),o.prevObject=this,o;for(F(this.constructor,e),r.addClass(e),a=this.segments(),i=s=0,u=a.length;u>s;i=++s)n=a[i],n.data(e,r[i]);return this},segments:function(){var t,e,r,n;for(n=[],e=0,r=this.length;r>e;e++)t=this[e],n.push(new this.constructor(t));return n},tabindex:function(t){return void 0===t?this.prop("tabindex"):this.prop("tabindex",t)},title:function(t){return void 0===t?this.prop("title"):this.prop("title",t)}}),F=function(t,e){var r;return r="$"+e,t.prototype[r]?void 0:t.prototype[r]=function(t){return this.referencedElement(e,t)}}})();